<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        #products{
            margin: 5% 5% 5% 5%;
            /* height: 600px; */
            /* border: 1px solid black; */
            display: grid;
            grid-template-columns: 20% 20% 20% 20%;
            grid-gap: 5%;
            justify-content: center;
        }

        div > div {
          border: 1px solid black;
        }

        img{
            width: 80%;
        }

       
    </style>
</head>
<body>
    <a href="cart.html"><button>Go To Cart</button></a>
    <!-- <h1>Local Storage</h1> -->
    <button>Sort Low to High</button>
    <button>Sort High to Low</button>
    <div id="products"></div>
    

    <script>

let data = [
    {
      name: "shoes",
      price: "2000",
      img: "https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Fcdn.sweatband.com%2Fasics_gel-zaraca_4_mens_running_shoes_ss16_asics_gel-zaraca_4_mens_running_shoes-blue-silver-black_angle_view_2000x2000.jpg&f=1&nofb=1",
    },
    {
      name: "Football",
      price: "1347",
      img: "https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Fwww.pixel4k.com%2Fwp-content%2Fuploads%2F2018%2F10%2Fsoccer-ball-football-lawn-grass-4k_1540063065.jpg&f=1&nofb=1",
    },
    {
      name: "Watch",
      price: "9999",
      img: "https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Ftimeandtidewatches.com%2Fwp-content%2Fuploads%2F2014%2F09%2FMANOFSTEELHaighHastingsWatch-M2-Diver.jpeg&f=1&nofb=1",
    },
    {
      name: "shoes",
      price: "2000",
      img: "https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Fcdn.sweatband.com%2Fasics_gel-zaraca_4_mens_running_shoes_ss16_asics_gel-zaraca_4_mens_running_shoes-blue-silver-black_angle_view_2000x2000.jpg&f=1&nofb=1",
    },
    {
      name: "Football",
      price: "1347",
      img: "https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Fwww.pixel4k.com%2Fwp-content%2Fuploads%2F2018%2F10%2Fsoccer-ball-football-lawn-grass-4k_1540063065.jpg&f=1&nofb=1",
    },
    {
      name: "Watch",
      price: "9999",
      img: "https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Ftimeandtidewatches.com%2Fwp-content%2Fuploads%2F2014%2F09%2FMANOFSTEELHaighHastingsWatch-M2-Diver.jpeg&f=1&nofb=1",
    },
    {
      name: "shoes",
      price: "2000",
      img: "https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Fcdn.sweatband.com%2Fasics_gel-zaraca_4_mens_running_shoes_ss16_asics_gel-zaraca_4_mens_running_shoes-blue-silver-black_angle_view_2000x2000.jpg&f=1&nofb=1",
    },
    {
      name: "Football",
      price: "1347",
      img: "https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Fwww.pixel4k.com%2Fwp-content%2Fuploads%2F2018%2F10%2Fsoccer-ball-football-lawn-grass-4k_1540063065.jpg&f=1&nofb=1",
    },
    {
      name: "Watch",
      price: "9999",
      img: "https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Ftimeandtidewatches.com%2Fwp-content%2Fuploads%2F2014%2F09%2FMANOFSTEELHaighHastingsWatch-M2-Diver.jpeg&f=1&nofb=1",
    },
  ];

//1.  run foreach loop on product data and print the individual data products name 
//2.  append this data on DOM
//2.1 Create Element

    let parent = document.getElementById("products");

    function showProducts(){
        data.forEach(function(product){
            // console.log(product.name);
            // console.log(product.price)
            
            let div = document.createElement("div");
            let img = document.createElement("img");
            
            img.src = product.img
            
            let product_name = document.createElement("p");
            product_name.textContent = product.name;
            
            let product_price = document.createElement("p");
            product_price.textContent = product.price;

            let addToCart_btn = document.createElement("button");
            addToCart_btn.innerText = "Add to cart";

            addToCart_btn.onclick = function(){
                addtoCart(product);
            }

            
            div.append(img, product_name, product_price, addToCart_btn);
            parent.append(div);
    });
}
    showProducts();
    // check if cart exist in our local storage
    
    // let arr = [{name: 'aks'},{name: 'dkd'}]

    if(localStorage.getItem("cart") === null){
      localStorage.setItem("cart", JSON.stringify([]));
    }

    function addtoCart(p){
      let producstCart = JSON.parse(localStorage.getItem("cart"));
      producstCart.push(p);
      localStorage.setItem("cart", JSON.stringify(producstCart));
      console.log(producstCart)
    }


    
    </script>
</body>

</html>